# Secure API Lab

API працює з сутностями **користувачів**, **документів** та
**співробітників**, демонструючи роботу з маршрутизацією, логуванням,
аутентифікацією та авторизацією.\
Всі дані зберігаються в пам'яті (in-memory), що робить проєкт простим
для тестування і розширення.

## Встановлення та запуск

### 1. Встановлення залежностей

``` bash
npm install
```

### 2. Запуск сервера

``` bash
npm start
```

API буде доступним за адресою:

    http://localhost:3000

### 3. Запуск тестового клієнта

``` bash
npm test
```

# Ендпоінти API

> **Для аутентифікації необхідні заголовки:**\
> - `X-Login`\
> - `X-Password`
>
> **Доступні користувачі:**\
> - `user1 / password123` --- роль `user`\
> - `admin1 / password123` --- роль `admin`

## Таблиця ендпоінтів

  -------------------------------------------------------------------------------------------------------------------------------------------------

| Метод | URL | Опис | Необхідні заголовки | Тіло запиту | Коди відповіді |
|----------|----------|----------|----------|----------|----------|
| **GET**    | `/documents`   | Отримати всі документи   | X-Login, X-Password    | --   | **200 OK** --- повертає список документів`<br>`{=html}**401 Unauthorized** |
| **POST**    | `/documents`   | Створити новий документ  | X-Login, X-Password    | `{ "title": "...", "content": "..." }`   | **201 Created**`<br>`{=html}**400 Bad Request**`<br>`{=html}**401 Unauthorized**   |
| **DELETE**    | `/documents/:id`  | Видалити документ за ID  | X-Login, X-Password    | --   | **204 No Content**`<br>`{=html}**401 Unauthorized**`<br>`{=html}**404 Not Found**|
| **GET**    | `/employees`   | Отримати список співробітників  | X-Login, X-Password (admin only)    | --   | **200 OK**`<br>`{=html}**401 Unauthorized**`<br>`{=html}**403 Forbidden** |
-------------------------------------------------------------------------------------------------------------------------------------------------
# Приклади запитів

### POST /documents

``` json
{
  "title": "Q3 Financial Report",
  "content": "Quarterly financial data..."
}
```

### Заголовки аутентифікації

    X-Login: user1
    X-Password: password123

# Структура проєкту

    ├─ data.js
    ├─ server.js
    ├─ test-client.js
    ├─ package.json
    └─ .gitignore

# Тестовий клієнт

`test-client.js` демонструє автоматичні запити: - успішний доступ як
user\
- запит із недостатніми правами\
- успішний доступ як admin

Запуск:

``` bash
npm test
```

# Репозиторій

https://github.com/CookieYup/secure-api-lab
